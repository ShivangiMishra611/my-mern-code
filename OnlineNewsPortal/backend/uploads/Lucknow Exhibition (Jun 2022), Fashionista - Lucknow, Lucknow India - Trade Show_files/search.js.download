function showSearchLoader(t){var e;t.querySelector(".fa-search")&&((e=t.querySelector(".fa-search")).classList.remove("fa-search"),e.classList.add("fa-spinner-third"),e.classList.add("fa-spin")),setTimeout(function(){hideSearchLoader(t)},3e3),hideSuggestion()}function hideSearchLoader(t){t.querySelector(".fa-spinner-third")&&((t=t.querySelector(".fa-spinner-third")).classList.remove("fa-spinner-third"),t.classList.remove("fa-spin"),t.classList.add("fa-search"))}function hideSuggestion(){document.querySelectorAll(".search-suggestion ul").forEach(function(t){t.style.display="none"})}function getMatch(t,e){t=t.toLowerCase(),e=e.toLowerCase();var a=t.indexOf(e),r=t.substring(a,a+e.length),a=new RegExp(r,"gi"),a=t.match(a),n=[],o=[];return a.forEach(function(t){n.indexOf(t)<0&&n.push(t)}),n.forEach(function(t){return o.push(t)}),n.forEach(function(t){return o.push(t.toUpperCase())}),n.forEach(function(t){return o.push(t.toTitleCase())}),r==e&&o}function suggestIndustry(s){request({method:"GET",url:"/ajax?for=event_listing_new&ajax=1&new=1&sortType=asc&sortBy=endDate&only=allindustry&entityurl=1"}).then(function(t){var n,o;t&&(t=JSON.parse(t),n="",o=0,t.industry&&(t.industry.forEach(function(t){if(t.url&&o<3){var e=t.name;if(t.shortName&&t.name.toLowerCase()!=t.shortName.toLowerCase()&&(e+=" "+t.shortName),-1<e.toLowerCase().indexOf(s)){var a=t.name,r=getMatch(e,s);for(j=0;j<r.length;j++)a=a.replace(r[j],"<b>".concat(r[j],"</b>"));n+='\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a class="item scroll c-ga" href="/'.concat(t.url.replace("category#",""),'" data-name="').concat(t.name,'" data-ga-category="Header" data-ga-action="Search | ').concat(t.name,'">\n\t\t\t\t\t\t\t\t\t\t<div class="float-start pe-2 line-2">\n\t\t\t\t\t\t\t\t\t\t\t<i class="fab fa-slack-hash" aria-hidden="true"></i>\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t\t\t\t').concat(a,"\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t"),o++}}}),(t=document.getElementById("industry-by")).innerHTML=n,t.style.display=""))}).catch(function(t){"abort"!=t&&console.log(t)})}function suggestVenue(s){request({method:"GET",url:"/city/search?ajax=1&searchType=es&query=".concat(encodeURIComponent(s),"&include=country")}).then(function(t){var n,o;t&&(t=JSON.parse(t),n="",o=0,t.forEach(function(t){if(t.url&&o<3){var e=t.name;t.state&&t.state.toLowerCase()!=t.name.toLowerCase()&&(e+=", "+t.state),!t.countryName||t.countryName.toLowerCase()==t.name.toLowerCase()||t.state&&t.state.toLowerCase()==t.countryName.toLowerCase()||(e+=", "+t.countryName);var a=e,r=getMatch(t.name.toLowerCase(),s);for(j=0;j<r.length;j++)e=e.replace(r[j],"<b>".concat(r[j],"</b>"));n+='\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a class="item scroll c-ga" href="'.concat(t.url.replace("https://10times.com",""),'" data-name="').concat(a,'" data-ga-category="Header" data-ga-action="Search | ').concat(a,'">\n\t\t\t\t\t\t\t\t<div class="float-start pe-2 line-2">\n\t\t\t\t\t\t\t\t\t<i class="far fa-map-marker-alt" aria-hidden="true"></i>\n\t\t\t\t\t\t\t\t\t&nbsp;\n\t\t\t\t\t\t\t\t\t').concat(e,"\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t"),o++}}),(t=document.getElementById("location-by")).innerHTML=n,t.style.display="")}).catch(function(t){"abort"!=t&&console.log(t)})}function suggestKeywords(n){if(!(t=localStorage.getItem("ten_times_search")))return!1;var o,a,t=JSON.parse(t),s="",c=0;t.length&&(o=n.split(" ").join(""),-1<n.indexOf(" ")&&(a=n.split(" "),t.forEach(function(t){var e;t.t&&t.u&&c<8&&(!t.t||(e=ContainsAny(t.t,a,a.length,t.d))&&(s+='\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a class="item scroll c-ga" href ="'.concat(t.u.replace("https://10times.com",""),'" data-name="').concat(t.d,'" data-ga-category="Header" data-ga-action="Search | ').concat(t.d,'">\n\t\t\t\t\t\t\t\t\t\t<div class="float-start pe-2 line-2">\n\t\t\t\t\t\t\t\t\t\t\t<i class="far fa-search" aria-hidden="true"></i>\n\t\t\t\t\t\t\t\t\t\t\t&nbsp;').concat(e,'\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div class="small float-end">Listing</div>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t'),c++))})),t.forEach(function(t){if(t.t&&t.u&&c<8&&-1<t.t.toLowerCase().indexOf(o)){var e=t.d,a=e;if(-1<t.d.toLowerCase().indexOf(n)){var r=getMatch(t.d,n);for(j=0;j<r.length;j++)e=e.replace(r[j],"<b>".concat(r[j],"</b>"))}s+='\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a class="item scroll c-ga" href="'.concat(t.u.replace("https://10times.com",""),'" data-name="').concat(a,'" data-ga-category="Header" data-ga-action="Search | ').concat(a,'">\n\t\t\t\t\t\t\t\t<div class="float-start pe-2 line-2">\n\t\t\t\t\t\t\t\t\t<i class="far fa-search" aria-hidden="true"></i>\n\t\t\t\t\t\t\t\t\t&nbsp;').concat(e,'\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div class="small float-end">Listing</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t'),c++}})),request({method:"GET",url:"/event/search?ajax=1&for=search&q=".concat(encodeURIComponent(n))}).then(function(t){t&&(t=JSON.parse(t)).forEach(function(t){var e;t.url&&((e=(e=t.shortName)||t.name).toLowerCase()!=t.name.toLowerCase()&&(e+=" - ".concat(t.name)),s+='\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<a class="item scroll c-ga" href="'.concat(t.url.replace("https://10times.com",""),'" data-name="').concat(t.name,'" data-ga-category="Header" data-ga-action="Search | ').concat(t.name,'">\n\t\t\t\t\t\t\t\t<div class="float-start pe-2 line-2">\n\t\t\t\t\t\t\t\t\t<i class="far fa-search me-1" aria-hidden="true"></i>\n\t\t\t\t\t\t\t\t\t<span>').concat(e,'</span>\n\t\t\t\t\t\t\t\t\t<small class="text-muted ms-1">').concat(t.location.cityName+("WW"==t.location.countryId?"":", "+t.location.countryId),'</small>\n\t\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t\t<div class="small float-end">Event</div>\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t'))});t=new URL(site_url_attend+selected_entity.type_url);t.searchParams.set("kw",encodeURIComponent(n)),t.href&&(s+='\n\t\t\t\t<li>\n\t\t\t\t\t<a class="item scroll c-ga" href="'.concat(t.href,'" data-name="').concat(n,'" data-ga-category="Header" data-ga-action="Search | ').concat(n,'">\n\t\t\t\t\t\t<div class="float-start pe-2 line-2">\n\t\t\t\t\t\t\t<b style="color:#e86300">Search</b>\n\t\t\t\t\t\t\t<b>"').concat(n,'"</b>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</a>\n\t\t\t\t</li>\n\t\t\t'),(t=document.getElementById("keywords-by")).innerHTML=s,t.style.display="")}).catch(function(t){"abort"!=t&&console.log(t)})}function ContainsAny(t,e,a,r){var n,o,s,c=0;if(t){t=t.toLowerCase();var i,l=0,d=new Array,c=0;for(i in e){var u=e[i].toLowerCase();-1<t.indexOf(u)&&(d[i]=e[i],l++)}}if(l!=a)return!1;for(i=0;i<d.length;i++)"all"!=d[i]&&(n=getMatch(r,d[i].toLowerCase(),c),c=r.toLowerCase().indexOf(n)),-1<(o="b"==n||"<"==n?r:r.replace(n,"<b>"+n+"</b>")).toLowerCase().indexOf("<b<")&&(s=o.toLowerCase().indexOf("<b<"),l=o.substring(s,s+7),o=o.replace(l,"")),-1<o.toLowerCase().indexOf("<</")&&(s=o.toLowerCase().indexOf("<</"),l=o.substring(s+1,s+5),o=o.replace(l,"")),r=o;return r}function setSuggestionGroup(t,e){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"down";if(t&&t.offsetParent){var r,n=Array.from(t.children),o=n.indexOf(e);switch(a){case"down":r=n[o+1];break;case"up":r=n[(o=o<0?n.length:o)-1]}if(r&&r.querySelector(".item"))return r;switch(a){case"down":return setSuggestionGroup(t.nextElementSibling,e,a);case"up":return setSuggestionGroup(t.previousElementSibling,e,a)}}return!1}function setSuggestionNext(t,e,a){e.querySelector(".item")&&e.querySelector(".item").classList.remove("selected");e=a.querySelector(".item");e.classList.add("selected"),a.scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),e.dataset.name&&(t.value=e.dataset.name.trim())}function setSuggestionOption(t,e){for(document.querySelectorAll("li a").forEach(function(t){t.classList.remove("selected")}),i=0;i<e.length;i++)if(e[i]&&e[i].offsetParent){e[i].classList.add("selected"),e[i].scrollIntoView({behavior:"smooth",block:"nearest",inline:"start"}),e[i].dataset.name&&(t.value=e[i].dataset.name.trim());break}}search_js=!0;var searchKeyword=function(t){if(!t)return showToast("provide input","","bg-danger"),!1;if(t=(t=(t=(t=(t=stripHTML(t)).toLowerCase()).replace(/[^\w\s]/g,"")).replace(/\s+/g," ")).trim(),event.target&&event.target.value&&(event.target.value=t,selected_entity.kw&&selected_entity.kw==t))return showToast("identical input","","bg-danger"),!1;if(!t)return showToast("invalid input","","bg-danger"),!1;if(t.replace(/\s/g,"").length<3)return showToast("atleast 3 characters required","","bg-danger"),!1;var e=site_url_attend;-1<location.pathname.indexOf("/online")?e+="/online":selected_entity.type_url&&(e+=selected_entity.type_url);e=new URL(e);return e.searchParams.set("kw",t),!!(e=t.startsWith("http")&&-1<t.indexOf("10times.com")?new URL(t):e).href&&(-1<e.pathname.indexOf("/online")&&e.searchParams.get("live")&&e.searchParams.delete("live"),showloading(),customEventGA("Header","Search",t),location.assign(e.href),!0)};function bindExploreKeywordEvents(){document.querySelectorAll("input.search-input").forEach(function(t){return!t.dataset.search&&(t.addEventListener("click",function(t){t.target&&(t.target.value||(hideSuggestion(),document.getElementById("explore-by").style.display=""))}),t.addEventListener("blur",function(){setTimeout(hideSuggestion,300)}),t.addEventListener("keydown",function(t){if(t.target.dataset.parent){var e=document.querySelector(t.target.dataset.parent);if(e.querySelector(".search-suggestion")){var a,r,n=e.querySelector(".search-suggestion");switch(t.key){case"ArrowDown":hideSearchLoader(e),n.querySelector(".selected")&&n.querySelector(".selected").offsetParent?(r=setSuggestionGroup((a=n.querySelector(".selected").closest("li")).closest("ul"),a,"down"))&&setSuggestionNext(t.target,a,r):n.querySelector("li a")&&setSuggestionOption(t.target,document.querySelectorAll("li a"));break;case"ArrowUp":hideSearchLoader(e),n.querySelector(".selected")&&n.querySelector(".selected").offsetParent?(o=setSuggestionGroup((r=n.querySelector(".selected").closest("li")).closest("ul"),r,"up"))&&setSuggestionNext(t.target,r,o):n.querySelector("li a")&&setSuggestionOption(t.target,document.querySelectorAll("li a"));break;case"Enter":if(t.target.dataset.target){var o=document.querySelector(t.target.dataset.target);if(o.offsetParent&&o.querySelector(".selected")){o=o.querySelector(".selected");return customEventGA("Header","Search",o.value),showloading(),o.href?location.replace(o.href):o.click(),!0}}searchKeyword(t.target.value);break;case"Escape":hideSearchLoader(e),hideSuggestion()}}}return!1}),t.addEventListener("input",function(e){if(e.target){if(!e.target.value)return hideSuggestion(),!1;e.target.dataset.parent&&showSearchLoader(document.querySelector(e.target.dataset.parent)),"undefined"!=typeof search_delay&&clearTimeout(search_delay),search_delay=setTimeout(function(){var t=e.target.value;if(!(t=t&&t.trim()))return!1;(t=t.toLowerCase())&&(document.getElementById("explore-by").style.display="none"),suggestKeywords(t),2<t.length&&(0!=e.target.dataset.location&&suggestVenue(t),0!=e.target.dataset.industry&&suggestIndustry(t))},2e3)}}),void(t.dataset.search="bind"))})}function initSearch(t){document.getElementById("search-box-area")||(getModal({id:"search-box-area"}),request({method:"GET",url:"/ajax?for=initSearch"}).then(function(t){t=JSON.parse(t),document.querySelector("#search-box-area .modal-dialog").classList.add("modal-fullscreen");var e=document.querySelector("#search-box-area .modal-header");e.innerHTML+=t.search,e.classList.add("px-0"),e.classList.add("py-2");e=document.querySelector("#search-box-area .modal-header .btn-close");e.innerHTML='<svg class="svg-inline--fa fa-arrow-left fa-w-14 fa-sm" aria-hidden="true" focusable="false" data-prefix="fas" data-icon="arrow-left" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" data-fa-i2svg=""><path fill="currentColor" d="M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"></path></svg>',e.classList.remove("position-absolute"),e.classList.remove("btn-close"),e.classList.add("btn");e=document.querySelector("#search-box-area .modal-body");e.innerHTML=t.suggestion,e.classList.add("p-0"),e.classList.add("bg-light");e=e.querySelector("#explore-keywords-dropdown");e.classList.remove("h-100"),e.classList.remove("bg-light"),e.classList.remove("mt-5"),e.classList.add("bg-white"),e.style.maxHeight="",document.querySelector("#search-box-area .modal-content").style.minHeight="50vh",document.querySelector("#search-box-area .modal-title").remove(),document.querySelector("#search-box-area .modal-footer").remove(),updateSearchField(),bindExploreKeywordEvents(),modals["search-box-area"].show()})),t.classList.remove("search-init"),t.classList.add("get-search"),t.dataset.bsToggle="modal",t.dataset.bsTarget="#search-box-area"}function updateSearchField(){var t,e=document.getElementById("explore-keywords");!e||(t=new URL(location.href).searchParams.get("kw"))&&(t=(t=decodeURIComponent(t.toLowerCase())).replaceAll("+"," "),e.value=t)}updateSearchField(),bindExploreKeywordEvents();